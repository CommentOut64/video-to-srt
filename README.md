# Video-to-SRT GPU

> åŸºäº WhisperX çš„é«˜æ€§èƒ½è§†é¢‘å­—å¹•ç”Ÿæˆå·¥å…· - ç°ä»£åŒ–å‰åç«¯åˆ†ç¦»æ¶æ„

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://python.org)
[![Vue.js](https://img.shields.io/badge/Vue.js-3.0+-green.svg)](https://vuejs.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.68+-red.svg)](https://fastapi.tiangolo.com)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

ä¸€ä¸ªè§†é¢‘è½¬å­—å¹•å·¥å…·ï¼Œä»ç®€å•çš„å‘½ä»¤è¡Œè„šæœ¬æ¼”è¿›ä¸ºç°ä»£åŒ–çš„Webåº”ç”¨ç¨‹åºã€‚æ”¯æŒGPUåŠ é€Ÿã€å®æ—¶è¿›åº¦ç›‘æ§ã€å¤šä»»åŠ¡å¹¶å‘å¤„ç†ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

### æ ¸å¿ƒåŠŸèƒ½

- **é«˜ç²¾åº¦è½¬å½•**ï¼šåŸºäº WhisperX çš„å…ˆè¿›è¯­éŸ³è¯†åˆ«æŠ€æœ¯
- **GPU åŠ é€Ÿ**ï¼šæ”¯æŒ CUDA GPU åŠ é€Ÿ
- **æ™ºèƒ½åˆ†æ®µ**ï¼šè‡ªåŠ¨éŸ³é¢‘åˆ†æ®µï¼Œä¼˜åŒ–é•¿è§†é¢‘å¤„ç†æ•ˆæœ
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šè‡ªåŠ¨è¯­è¨€æ£€æµ‹ï¼Œæ”¯æŒå¤šç§è¯­è¨€è½¬å½•
- **è¯çº§æ—¶é—´æˆ³**ï¼šç²¾ç¡®çš„è¯çº§æ—¶é—´å¯¹é½

### ç”¨æˆ·ç•Œé¢

- **ç°ä»£åŒ– Web UI**ï¼šåŸºäº Vue.js çš„å“åº”å¼ç•Œé¢
- **æ‹–æ‹½ä¸Šä¼ **ï¼šæ”¯æŒå¤šç§è§†é¢‘æ ¼å¼çš„æ‹–æ‹½ä¸Šä¼ 
- **å®æ—¶è¿›åº¦**ï¼šå®æ—¶æ˜¾ç¤ºè½¬å½•è¿›åº¦å’Œä»»åŠ¡çŠ¶æ€
- **ç»“æœé¢„è§ˆ**ï¼šåœ¨çº¿é¢„è§ˆ(å¾…å¼€å‘)å’Œä¸‹è½½ SRT å­—å¹•æ–‡ä»¶

### æŠ€æœ¯ç‰¹æ€§

- **å‰åç«¯åˆ†ç¦»**ï¼šVue.js + FastAPI æ¶æ„
- **å¼‚æ­¥å¤„ç†**ï¼šæ”¯æŒå¤šä»»åŠ¡å¹¶å‘å¤„ç†
- **æ™ºèƒ½å¯åŠ¨**ï¼šä¸€é”®å¯åŠ¨å™¨ï¼Œè‡ªåŠ¨å¤„ç†ä¾èµ–å’Œç¯å¢ƒ
- **é”™è¯¯æ¢å¤**ï¼šå®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶

## å¿«é€Ÿå¼€å§‹

### ä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰
```bash
# åŒå‡»è¿è¡Œ
ä¸€é”®å¯åŠ¨.bat
```

### æ‰‹åŠ¨å¯åŠ¨
```bash
# 1. å®‰è£…ä¾èµ–
pip install -r requirements.txt
cd frontend && npm install

# 2. å¯åŠ¨åº”ç”¨
python simple_launcher.py
```

## ç³»ç»Ÿè¦æ±‚

### åŸºç¡€è¦æ±‚

- **Python**: 3.8+ 
- **Node.js**: 16+ 
- **FFmpeg**: éŸ³é¢‘å¤„ç†
- **å†…å­˜**: å»ºè®® 8GB+

- **NVIDIA GPU**: æ”¯æŒ CUDA 11.8+
- **æ˜¾å­˜**: å»ºè®® 4GB+
- **é©±åŠ¨**: æœ€æ–° NVIDIA é©±åŠ¨ï¼Œcuda118æˆ–ä»¥ä¸Šï¼ŒcuDNN

## æŠ€æœ¯æ ˆ

### åç«¯

- **FastAPI** - é«˜æ€§èƒ½ Web æ¡†æ¶
- **WhisperX** - è¯­éŸ³è¯†åˆ«æ ¸å¿ƒ
- **PyTorch** - æ·±åº¦å­¦ä¹ æ¡†æ¶
- **Uvicorn** - ASGI æœåŠ¡å™¨

### å‰ç«¯

- **Vue.js 3** - å‰ç«¯æ¡†æ¶
- **Vite** - æ„å»ºå·¥å…·
- **Axios** - HTTP å®¢æˆ·ç«¯

### AI æ¨¡å‹

- **Whisper** - OpenAI è¯­éŸ³è¯†åˆ«æ¨¡å‹
- **pyannote.audio** - è¯´è¯äººåˆ†ç¦»
- **faster-whisper** - ä¼˜åŒ–çš„ Whisper å®ç°

## ä½¿ç”¨è¯´æ˜

### 1. å¯åŠ¨åº”ç”¨

```bash
åŒå‡» ä¸€é”®å¯åŠ¨.bat
```

### 2. ä¸Šä¼ è§†é¢‘

- åœ¨ Web ç•Œé¢ä¸­æ‹–æ‹½æˆ–é€‰æ‹©è§†é¢‘æ–‡ä»¶
- æ”¯æŒæ ¼å¼ï¼šMP4, AVI, MKV, MOV, WMV ç­‰

### 3. é…ç½®å‚æ•°

- **æ¨¡å‹é€‰æ‹©**: tiny, base, small, medium, large
- **è¯­è¨€è®¾ç½®**: è‡ªåŠ¨æ£€æµ‹æˆ–æŒ‡å®šè¯­è¨€
- **è´¨é‡è®¾ç½®**: æ ¹æ®éœ€è¦è°ƒæ•´ç²¾åº¦å’Œé€Ÿåº¦

### 4. å¼€å§‹è½¬å½•

- ç‚¹å‡»å¼€å§‹æŒ‰é’®
- å®æ—¶ç›‘æ§è¿›åº¦
- ç­‰å¾…å¤„ç†å®Œæˆ

### 5. ä¸‹è½½ç»“æœ

- ä¸‹è½½ SRT æ–‡ä»¶

## é…ç½®é€‰é¡¹

### æ¨¡å‹é…ç½®
```python
# åœ¨ backend/app/processor.py ä¸­ä¿®æ”¹
JobSettings(
    model="medium",          # tiny, base, small, medium, large
    compute_type="float16",  # float16, float32, int8
    device="cuda",           # cuda, cpu
    batch_size=16           # æ‰¹å¤„ç†å¤§å°
)
```

### ç«¯å£é…ç½®
```python
# åœ¨å¯åŠ¨å™¨ä¸­ä¿®æ”¹
backend_port = 8000      # åç«¯ç«¯å£
frontend_port = 5174     # å‰ç«¯ç«¯å£
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### "connect ECONNREFUSED 127.0.0.1:8000"

**è§£å†³æ–¹æ¡ˆ**:

1. ä½¿ç”¨ `ä¸€é”®å¯åŠ¨.bat` è‡ªåŠ¨æ¸…ç†è¿›ç¨‹
2. æ‰‹åŠ¨æ£€æŸ¥ç«¯å£å ç”¨ï¼š`netstat -ano | findstr :8000`
3. é‡å¯åº”ç”¨

#### "npm å‘½ä»¤æ‰¾ä¸åˆ°"
**è§£å†³æ–¹æ¡ˆ**:

1. å®‰è£… Node.js (https://nodejs.org)
2. é‡å¯å‘½ä»¤è¡Œçª—å£
3. éªŒè¯å®‰è£…ï¼š`npm --version`

#### GPU å†…å­˜ä¸è¶³

**è§£å†³æ–¹æ¡ˆ**:

1. é™ä½æ‰¹å¤„ç†å¤§å°ï¼š`batch_size=8`
2. ä½¿ç”¨è¾ƒå°æ¨¡å‹ï¼š`model="small"`

### è°ƒè¯•æ¨¡å¼

é‡åˆ°é—®é¢˜æ—¶ä½¿ç”¨è°ƒè¯•ç‰ˆæœ¬ï¼š
```bash
python launcher_debug.py
```

## ç‰ˆæœ¬å†å²

- **v2.0.0** (2025-08-18) -  å…¨é¢æ¶æ„å‡çº§ï¼Œå‰åç«¯åˆ†ç¦»
- **v1.1.0** (2025-06-18) - ğŸ¬ åˆå§‹ç‰ˆæœ¬ï¼Œå‘½ä»¤è¡Œç•Œé¢

è¯¦ç»†æ›´æ–°æ—¥å¿—è¯·æŸ¥çœ‹ [CHANGELOG.md](CHANGELOG.md)

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/AmazingFeature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add some AmazingFeature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/AmazingFeature`
5. æ‰“å¼€ Pull Request

## å¼€æºåè®®

æœ¬é¡¹ç›®åŸºäº MIT åè®®å¼€æº - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## å…è´£å£°æ˜

> æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ ä¸ç ”ç©¶ä½¿ç”¨ï¼Œç¦æ­¢ä»»ä½•å½¢å¼çš„å•†ä¸šä½¿ç”¨ã€‚
> ä½¿ç”¨è€…éœ€éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„ï¼Œä½œè€…ä¸å¯¹ä½¿ç”¨åæœæ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚

## è‡´è°¢

- [OpenAI Whisper](https://github.com/openai/whisper) - è¯­éŸ³è¯†åˆ«åŸºç¡€
- [WhisperX](https://github.com/m-bain/whisperX) - ä¼˜åŒ–çš„ Whisper å®ç°
- [FastAPI](https://fastapi.tiangolo.com/) - ç°ä»£ Web æ¡†æ¶
- [Vue.js](https://vuejs.org/) - å‰ç«¯æ¡†æ¶
- æ‰€æœ‰å¼€æºåº“çš„è´¡çŒ®è€…ä»¬

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªæ˜Ÿæ ‡æ”¯æŒï¼**
