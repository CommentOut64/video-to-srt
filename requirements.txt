--extra-index-url https://download.pytorch.org/whl/cu118

# --- 核心环境 ---
python-dateutil
tqdm
click
colorama
filelock
psutil
intel-openmp  # fbgemm.dll 需要的 OpenMP 运行时

# --- 数值计算 (严格锁定兼容性) ---
# 必须 < 2.0.0 以兼容现有生态
numpy==1.26.4
scipy
sympy

# --- PyTorch (CUDA 11.8) ---
# 包含 CUDA 11 运行库
torch==2.4.0+cu118
torchaudio==2.4.0+cu118
torchvision==0.19.0+cu118

# --- AI 推理引擎 (混合 CUDA 环境) ---
# Faster-Whisper 1.2.1 需要 CTranslate2 4.x
faster-whisper==1.2.1

# 锁定 CTranslate2 版本以配合下面的 CUDA 12 库
ctranslate2==4.4.0

# --- 关键：嵌入式 CUDA 12 运行库 ---
# 虽然 PyTorch 用的是 cu11，但 CTranslate2 需要这些 cu12 的 DLL。
# pip 安装会将它们放在 site-packages/nvidia 中，实现完美共存。
nvidia-cublas-cu12
nvidia-cudnn-cu12

# --- ONNX (兼容性配置) ---
onnxruntime-gpu==1.18.0

# --- 音频处理 ---
librosa
soundfile
ffmpeg-python
av
pydub

# --- 人声分离 ---
demucs==4.0.1

# --- VAD & Web 服务 ---
silero-vad
fastapi
uvicorn[standard]
python-multipart
sse-starlette