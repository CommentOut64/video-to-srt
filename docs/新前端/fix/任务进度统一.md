当前的问题：

1.任务监控在启动整个任务队列时会卡住不能及时更新，表现为卡在第一个任务5%，必须手动刷新后才开始实时更新

2.动态动态进度区时长会卡进度必须手动刷新

3.项目里存在“多套进度（%）机制”且彼此不一致：前端的“动态进度区 / 编辑器内进度”主要从 SSE 或轮询接口两个不同位置读取，而后端对“转录（transcribe）”和“对齐（align）”分别发出的进度事件/字段格式也不统一，导致对齐进度没有被前端展示出来 → 你看到“转录完成就 100%、对齐没有显示”的问题就是这个原因。

- 前端从 SSE 取值：
  - [EditorView.vue](vscode-file://vscode-app/d:/Microsoft VS Code/resources/app/out/vs/code/electron-browser/workbench/workbench.html) subscribeSSE 中：handleProgress 设定 `taskProgress.value = data.percent || 0`，并注册了 sseService 的事件（行 <del>412、</del>437）。
  - SSEService 的实现在 [sseService.js](vscode-file://vscode-app/d:/Microsoft VS Code/resources/app/out/vs/code/electron-browser/workbench/workbench.html)：EventSource 注册了自定义事件 `task_progress`、`task_complete`、`task_failed`、`heartbeat`（文件开头注册部分）。
  - EditorView 同时通过 `loadTranscribingSegments()`（行 ~350）轮询 transcriptionApi.getTranscriptionText，并把 `textData.progress?.percentage` 赋给 `taskProgress`（两条来源不同）。
- 后端发送的进度有多种格式（文档 & 代码示例）：
  - 文档/实现中有 TranscriptionService 在转录循环处按 ratio 更新（把 transcribe 阶段按分段计进度），最后会调用 [_update_progress(job, 'transcribe', 1, ...)](vscode-file://vscode-app/d:/Microsoft VS Code/resources/app/out/vs/code/electron-browser/workbench/workbench.html)（docs 中多处示例）。
  - 对齐阶段的进度在文档里设计为专门的 SSE 事件 `align_progress`，payload 里有 `batch` 和 `segments` 两层进度（见 [内存优化实施方案-V2.3.md](vscode-file://vscode-app/d:/Microsoft VS Code/resources/app/out/vs/code/electron-browser/workbench/workbench.html)）。
  - 后端在一些地方也用 [progress](vscode-file://vscode-app/d:/Microsoft VS Code/resources/app/out/vs/code/electron-browser/workbench/workbench.html)、有时用 [percent](vscode-file://vscode-app/d:/Microsoft VS Code/resources/app/out/vs/code/electron-browser/workbench/workbench.html)、有时把 phase 放到 message 里（文档和多处代码片段显示命名/结构不一致）。
- store 层也有独立的进度字段：
  - [unifiedTaskStore.js](vscode-file://vscode-app/d:/Microsoft VS Code/resources/app/out/vs/code/electron-browser/workbench/workbench.html) 保存了 task.progress（用于任务列表、自动切换到编辑阶段的逻辑，检测 progress === 100 会把 phase 置为 editing）。

4.所以，你需要彻查前后端，重新设计整个任务进度推送系统，要求：1.所有用到进度条的地方，不管是动态进度区、任务监控、任务界面，都必须统一实时更新；2.必须从后端统一任务的标准进度模型，包括任务进度、进度阶段（提取音频/转录/对齐/翻译/校对/完成等，有些功能未实现但必须先考虑进去）、任务状态、任务未完成/完成数等，前端要采用单一来源，不能不同组件各自管理（先检查后端的标准是否完善，如果完善了就不要改了只改前端）；3.任务进度均四舍五入到小数点后一位；4.统一设计前端的任务状态标签，比如提取音频为灰色标签、转录中为浅绿色标签、对齐中为深绿色标签...；4.完善的错误纠正系统和错误提示，比如无法获取到后端数据时要显示红色的错误标签；5.重新设计推送机制，能用sse的不要用轮询，且优先考虑全局sse，到前端再分流

注意，你要设计一个优秀、不犯错、更新及时的系统，需要充分考虑到各种极端情况和各种场景