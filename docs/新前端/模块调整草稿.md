æœ¬æ–¹æ¡ˆæ—¨åœ¨å°† `EditorView` é‡æ„ä¸ºä¸€ä¸ªç°ä»£ã€é«˜æ•ˆã€ä»¥è§†é¢‘ä¸ºä¸­å¿ƒçš„ç¼–è¾‘ç•Œé¢ã€‚æ ¸å¿ƒç†å¿µæ˜¯å¯¹æ ‡ Edge æµè§ˆå™¨çš„ä»»åŠ¡ç®¡ç†ä½“éªŒå’Œç°ä»£ NLEï¼ˆéçº¿æ€§ç¼–è¾‘ï¼‰è½¯ä»¶çš„å¸ƒå±€é€»è¾‘ã€‚

-----

### ğŸŸ¢ æ ¸å¿ƒè®¾è®¡ç†å¿µ

1.  **è§†é¢‘ä¼˜å…ˆ (Video First)**ï¼šåˆ©ç”¨ CSS Grid ç¡®ä¿è§†é¢‘ç”»é¢å æ®æœ€å¤§ç©ºé—´ï¼Œæ³¢å½¢å›¾é€€å±…è¾…åŠ©åœ°ä½ã€‚
2.  **æç®€é¡¶æ  (Clean Header)**ï¼šå»é™¤å¹²æ‰°å…ƒç´ ï¼ˆå¦‚ä¿å­˜æŒ‰é’®ï¼‰ï¼Œé‡‡ç”¨â€œè§†è§‰ä¸­å¿ƒâ€å¸ƒå±€å’Œâ€œæ‚¬æµ®äº¤äº’â€é€»è¾‘ã€‚
3.  **å…¨å±€ä»»åŠ¡æŒæ§**ï¼šé€šè¿‡ TaskMonitorï¼ˆç±»ä¼¼ Edge ä¸‹è½½ä¸­å¿ƒï¼‰å®ç°å¤šä»»åŠ¡å¹¶è¡Œç®¡ç†ã€‚

-----

### ğŸ“‚ 1. æ–‡ä»¶ç»“æ„è°ƒæ•´å»ºè®®

å»ºè®®æ–°å»º/æ‹†åˆ†ä»¥ä¸‹ç»„ä»¶ä»¥ä¿æŒä»£ç æ•´æ´ï¼š

```text
frontend/src/views/EditorView.vue          // ä¸»å¸ƒå±€å®¹å™¨ (Grid)
frontend/src/components/editor/
â”œâ”€â”€ EditorHeader.vue                       // [æ–°å»º] ç‹¬ç«‹å‡ºæ¥çš„é¡¶æ ç»„ä»¶
â”œâ”€â”€ VideoStage/index.vue                   // è§†é¢‘æ’­æ”¾åŒº
â”œâ”€â”€ PlaybackControls/index.vue             // æ’­æ”¾æ§åˆ¶æ¡ (ç§»åŠ¨ä½ç½®)
â”œâ”€â”€ WaveformTimeline/index.vue             // æ³¢å½¢å›¾ (å›ºå®šé«˜åº¦)
â””â”€â”€ SubtitleList/index.vue                 // å­—å¹•åˆ—è¡¨ (å˜çª„)
```

-----

### ğŸ› ï¸ 2. è¯¦ç»†å®æ–½æ­¥éª¤

#### æ­¥éª¤ä¸€ï¼šæ–°å»ºé¡¶æ ç»„ä»¶ (`EditorHeader.vue`)

è¿™æ˜¯æ”¹åŠ¨æœ€å¤§çš„éƒ¨åˆ†ã€‚å®ç°äº†å·¦ä¾§ä¿¡æ¯å †å ã€ä¸­é—´ç»å¯¹å±…ä¸­ã€å³ä¾§ä»»åŠ¡ç›‘æ§ã€‚

```vue
<template>
  <header class="editor-header">
    <div class="header-left">
      <el-button link class="nav-back" @click="$router.push('/tasks')">
        <el-icon :size="20"><ArrowLeft /></el-icon>
      </el-button>
      
      <div class="divider-vertical"></div>
      
      <div class="task-info-stack">
        <h1 class="task-name" :title="taskName">{{ taskName }}</h1>
        <div class="task-meta">
          <span class="status-dot" :class="statusClass"></span>
          <span class="meta-text">{{ metaText }}</span>
        </div>
      </div>
    </div>

    <div class="header-center">
      <el-popover
        trigger="hover"
        :width="220"
        popper-class="control-popover-dark"
        :show-after="200"
        :hide-after="300"
        placement="bottom"
      >
        <template #reference>
          <div class="progress-capsule">
            <div class="progress-track">
              <div class="progress-fill" :style="{ width: progress + '%' }"></div>
            </div>
            <span class="capsule-text">{{ statusText }} {{ progress }}%</span>
          </div>
        </template>
        
        <div class="hover-controls">
          <div class="label">å½“å‰ä»»åŠ¡æ§åˆ¶</div>
          <div class="btn-group">
            <el-button circle size="small" @click="$emit('pause')"><el-icon><VideoPause /></el-icon></el-button>
            <el-button circle size="small" type="danger" plain @click="$emit('cancel')"><el-icon><Close /></el-icon></el-button>
          </div>
        </div>
      </el-popover>
    </div>

    <div class="header-right">
      <el-popover trigger="click" :width="400" popper-class="task-monitor-popover" placement="bottom-end">
        <template #reference>
          <div class="monitor-trigger">
            <el-button text class="icon-btn">
              <el-icon :size="20"><Monitor /></el-icon>
            </el-button>
            <span v-if="activeTasks > 0" class="badge">{{ activeTasks }}</span>
          </div>
        </template>
        <TaskMonitor /> </el-popover>

      <div class="divider-vertical"></div>

      <el-tooltip content="æ’¤é”€"><el-button text class="icon-btn"><el-icon><RefreshLeft /></el-icon></el-button></el-tooltip>
      <el-tooltip content="é‡åš"><el-button text class="icon-btn"><el-icon><RefreshRight /></el-icon></el-button></el-tooltip>
      
      <el-button type="primary" size="small" class="export-btn" @click="$emit('export')">
        <el-icon><Download /></el-icon> å¯¼å‡º
      </el-button>
    </div>
  </header>
</template>

<style scoped lang="scss">
$header-h: 56px;
$bg: #1e1e1e;
$text: #eee;
$text-sub: #888;

.editor-header {
  height: $header-h;
  background: $bg;
  border-bottom: 1px solid #333;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
  position: relative; /* ä¸ºä¸­é—´ç»å¯¹å®šä½æœåŠ¡ */
}

/* å·¦ä¾§å †å å¸ƒå±€ */
.header-left {
  display: flex;
  align-items: center;
  gap: 12px;
  
  .task-info-stack {
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 2px;
    
    .task-name {
      margin: 0;
      font-size: 14px;
      color: $text;
      font-weight: 500;
      line-height: 1.2;
    }
    
    .task-meta {
      display: flex;
      align-items: center;
      gap: 5px;
      
      .status-dot { width: 6px; height: 6px; border-radius: 50%; background: #67c23a; }
      .meta-text { font-size: 11px; color: $text-sub; line-height: 1; }
    }
  }
}

/* ä¸­é—´ç»å¯¹å®šä½ */
.header-center {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}

.progress-capsule {
  background: #333;
  border-radius: 12px;
  padding: 4px 12px;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  
  .progress-track {
    width: 120px;
    height: 4px;
    background: #444;
    border-radius: 2px;
    overflow: hidden;
    .progress-fill { height: 100%; background: #409eff; }
  }
  .capsule-text { font-size: 12px; color: #bbb; }
}

/* å³ä¾§æ ·å¼ */
.header-right {
  display: flex;
  align-items: center;
  gap: 8px;
  
  .monitor-trigger { position: relative; display: flex; align-items: center; }
  .badge {
    position: absolute; top: 4px; right: 4px;
    background: #409eff; color: #fff;
    font-size: 10px; padding: 0 4px; border-radius: 4px;
  }
}

.divider-vertical { width: 1px; height: 20px; background: #333; margin: 0 4px; }
</style>
```

#### æ­¥éª¤äºŒï¼šé‡æ„ä¸»å¸ƒå±€ (`EditorView.vue`)

ä½¿ç”¨ CSS Grid å®ç°â€œè§†é¢‘-æ§åˆ¶-æ³¢å½¢â€çš„ä¸‰æ˜æ²»ç»“æ„ï¼Œå¹¶é™åˆ¶ä¾§è¾¹æ å®½åº¦ã€‚

```vue
<template>
  <div class="editor-layout">
    <EditorHeader 
      :task-name="currentTask.name"
      :progress="currentTask.progress"
      @export="handleExport"
    />

    <main class="workspace-grid">
      <section class="stage-column">
        <div class="video-wrapper">
          <VideoStage />
        </div>
        
        <div class="controls-wrapper">
          <PlaybackControls />
        </div>
        
        <div class="waveform-wrapper">
          <WaveformTimeline />
        </div>
      </section>

      <aside class="sidebar-column">
        <SubtitleList />
      </aside>
    </main>
  </div>
</template>

<style scoped lang="scss">
.editor-layout {
  height: 100vh;
  display: flex;
  flex-direction: column;
  background: #121212;
  overflow: hidden;
}

.workspace-grid {
  flex: 1;
  display: grid;
  /* å…³é”®ï¼šå·¦ä¾§è‡ªé€‚åº”ï¼Œå³ä¾§å›ºå®š 280px */
  grid-template-columns: 1fr 280px;
  height: 100%;
}

.stage-column {
  display: grid;
  /* å…³é”®ï¼šè¡Œå¸ƒå±€ -> è§†é¢‘(1fr) | æ§åˆ¶(auto) | æ³¢å½¢(160px) */
  grid-template-rows: 1fr auto 160px;
  border-right: 1px solid #333;
  min-width: 0; /* é˜²æ­¢ Grid æº¢å‡º */

  .video-wrapper {
    background: #000;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
  }

  .controls-wrapper {
    background: #1e1e1e;
    border-top: 1px solid #2a2a2a;
    /* å»é™¤åœ†è§’ï¼Œä½¿å…¶çœ‹èµ·æ¥åƒè§†é¢‘çš„åº•åº§ */
    z-index: 5;
  }

  .waveform-wrapper {
    background: #1a1a1a;
    border-top: 1px solid #333;
  }
}

.sidebar-column {
  background: #1e1e1e;
  overflow-y: auto;
}
</style>
```

#### æ­¥éª¤ä¸‰ï¼šç»„ä»¶å¾®è°ƒ

1.  **æ’­æ”¾æ§åˆ¶ (`PlaybackControls/index.vue`)**:

      * ç§»é™¤æ‰€æœ‰çš„ `border-radius` å’Œ `margin`ã€‚
      * é«˜åº¦å»ºè®®å›ºå®šä¸º `40px - 48px`ã€‚
      * èƒŒæ™¯è‰²è®¾ä¸º `#1e1e1e` ä¸èƒŒæ™¯èåˆã€‚

2.  **æ³¢å½¢å›¾ (`WaveformTimeline/index.vue`)**:

      * ç§»é™¤ç»„ä»¶å†…éƒ¨çš„ `height: 100%` æˆ–è‡ªé€‚åº”é€»è¾‘ï¼Œæ”¹ç”¨çˆ¶å®¹å™¨ä¼ å…¥çš„é«˜åº¦æˆ–å“åº”å¼å¡«å……ã€‚
      * **å»ºè®®**: å°†æ’­æ”¾å¤´è®¾ç½®ä¸º `Center Mode`ï¼ˆæ’­æ”¾å¤´å±…ä¸­ï¼Œæ³¢å½¢æ»šåŠ¨ï¼‰ï¼Œè€Œéæ’­æ”¾å¤´ç§»åŠ¨ã€‚è¿™å¯¹äºç²¾ç»†å¯¹é½å­—å¹•æ›´å‹å¥½ã€‚

3.  **å­—å¹•åˆ—è¡¨ (`SubtitleList/index.vue`)**:

      * ç”±äºå®½åº¦å˜çª„ï¼ˆ280pxï¼‰ï¼Œéœ€è¦ä¼˜åŒ– `el-table` æˆ–åˆ—è¡¨é¡¹çš„æ ·å¼ã€‚
      * å»ºè®®ï¼š
          * éšè—éå¿…è¦åˆ—ã€‚
          * å°† `Start Time` å’Œ `End Time` åˆå¹¶æ˜¾ç¤ºï¼ˆä¾‹å¦‚ï¼š`00:01:23 -> 00:01:25`ï¼‰ã€‚
          * å­—ä½“å¤§å°è°ƒæ•´ä¸º `12px` æˆ– `13px`ã€‚

-----

### ğŸŒŸ æ–¹æ¡ˆäº®ç‚¹æ€»ç»“

1.  **æ¶ˆé™¤ç„¦è™‘çš„è®¾è®¡**ï¼š

      * å·¦ä¸Šè§’æ˜ç¡®çš„â€œè‡ªåŠ¨ä¿å­˜äº 14:23â€æç¤ºï¼Œæ›¿ä»£äº†éœ€è¦æ‰‹åŠ¨ç‚¹å‡»çš„â€œä¿å­˜â€æŒ‰é’®ï¼Œæ—¢èŠ‚çœç©ºé—´åˆç¬¦åˆç°ä»£ç”¨æˆ·ä¹ æƒ¯ã€‚

2.  **æ²‰æµ¸å¼å·¥ä½œæµ**ï¼š

      * é€šè¿‡ Grid å¸ƒå±€ï¼Œè§†é¢‘ç”»é¢ç»ˆäºæˆä¸ºäº†ä¸»è§’ã€‚
      * æ§åˆ¶æ¡ä¸‹ç§»ï¼Œä½¿â€œè§‚çœ‹è§†é¢‘ -\> æ“ä½œæ’­æ”¾ -\> æŸ¥çœ‹æ³¢å½¢â€çš„è§†çº¿è·¯å¾„å˜å¾—æå…¶æµç•…ã€‚

3.  **é«˜æ•ˆä»»åŠ¡ç®¡ç†**ï¼š

      * å³ä¾§ TaskMonitor å…è®¸ç”¨æˆ·åƒåœ¨æµè§ˆå™¨ä¸­ç®¡ç†ä¸‹è½½ä¸€æ ·ç®¡ç†æ¸²æŸ“ä»»åŠ¡ï¼Œæ— éœ€ç¦»å¼€å½“å‰ç¼–è¾‘ç•Œé¢å³å¯æŸ¥çœ‹å…¶ä»–ä»»åŠ¡è¿›åº¦æˆ–åˆ‡æ¢ä»»åŠ¡ã€‚
